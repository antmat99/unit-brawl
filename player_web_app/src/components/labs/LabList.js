import { useEffect, useState } from "react";
import { ListGroup, Container, Row, Col } from 'react-bootstrap';

function LabList(props) {
    const { labs,selectLab } = props;
    const [labItems, setLabItems] = useState([])

    useEffect(() => {
        if(labs != undefined) createLabItems(labs)
    }, [labs])


    const createLabItems = () => {
        const ret = []
        labs.forEach((lab,index) => {
            ret.push(
                <ListGroup.Item action key={index} onClick={() => selectLab(lab)}>
                    <Container fluid>
                        <Row>
                            <Col lg={2}>
                                {
                                    lab.expired ?
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" className="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
                                            <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z" />
                                            <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z" />
                                        </svg>
                                        :
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" className="bi bi-stopwatch-fill" viewBox="0 0 16 16">
                                            <path d="M6.5 0a.5.5 0 0 0 0 1H7v1.07A7.001 7.001 0 0 0 8 16a7 7 0 0 0 5.29-11.584.531.531 0 0 0 .013-.012l.354-.354.353.354a.5.5 0 1 0 .707-.707l-1.414-1.415a.5.5 0 1 0-.707.707l.354.354-.354.354a.717.717 0 0 0-.012.012A6.973 6.973 0 0 0 9 2.071V1h.5a.5.5 0 0 0 0-1h-3zm2 5.6V9a.5.5 0 0 1-.5.5H4.5a.5.5 0 0 1 0-1h3V5.6a.5.5 0 1 1 1 0z" />
                                        </svg>

                                }
                            </Col>
                            <Col lg={10}>
                                {lab.name}
                            </Col>
                        </Row>
                    </Container>
                </ListGroup.Item>
            )
        });
        setLabItems(ret);
    }

    return (
        <ListGroup>
            {labItems}
        </ListGroup>
    )


}

export default LabList;